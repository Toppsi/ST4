\section{Analog til digital konvertering}
\textit{Dette afsnit beskriver design, implementering og test af ADCen. ADCen designes og implementeres med henhold til teoretiske aspekter samt de opstillede krav. Afslutningsvis testes ADCens virken i forhold til kravene opstillet i \secref{krav_adc}.}

\subsection{Design}
Systemets IC har en ADC tilkoblet i sit kredsløb, hvormed ADCen tilhørende denne blok er designet, implementeret og testet i \secref{sec_design_LSM9DS1}.\\
Pulssensoren kræver en AD konvertering for at kunne blive behandlet som digitalt data. Derfor benyttes MCUens 12 bits SAR ADC, til at konvertere det analoge pulssignal til et digitalt signal. 

Det fremgår af \secref{krav_adc}, at ADCen skal have en samplingsfrekvens på mindst 35~Hz, for at kunne gengive et repræsentativt digitalt signal for pulssensoren. For at kunne konfigurere ADCen til at have den pågældende samplingsfrekvens, da skal varighed mellem hver samples, ved en frekvens på 35~Hz, bestemmes:

\begin{equation}
\frac{1~sekund}{35~Hz} = 0,0286~sekunder
\label{eq:adc_puls}
\end{equation}

Det fremgår af \eqref{eq:adc_puls}, at der er 0,0286~sekunder mellem hver sample ved en frekvens på 35~Hz. 

\subsection{Implementering}
Pulssensorens analoge signal, skal gennemgå en AD konvertering i MCUen. Denne proces udføres, ved at koble pulssensorens output til ADCens input. Topdesignet for ADCen i PSOC 4200M bliver derfor forbundet med en analog inputpin, som konfigureres til at være tilhørende outputsignalet fra pulssensoren. \\
Yderligere konfigureres samplingsfrekensen for ADCen, med hensyn til den tid mellem hver sample som er bestemt i \eqref{eq:adc_puls}.
Derfor skal konverteringstiden i Topdesign for ADC konfigureres til 0,0286~sekunder. Dette vil dermed konfigurere ADCen til at have en samplingsfrekvens på 35~Hz.

\subsection{Test}
ADCen testes, for at undersøge samplingsfrekvensen på den kanal som sampler pulssensoren. \\
Testen udføres med henhold til de opstillede krav og tilhørende tilladte afvigelser opstillet i \secref{krav_adc}.

ADCen er konfigureret således, at denne sender samples afsted så snart disse er klar, hvilket fremgår af \secref{puls_impl}. 
Derfor vil det 