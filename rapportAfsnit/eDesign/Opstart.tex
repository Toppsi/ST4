\textit{Dette kapitel omhandler alle systemets blokke og herigennem deres design, implementering og test. Hver enkelt blok behandles separat, hvorefter de vil blive behandlet som et samlet system. Alle blokke er designet ud fra de enkelte kravspecifikationer og testes ligeledes herudfra. Afslutningsvis vil kapitlet omhandle en test af det samlede system med henblik på dets funktionelle krav og kravspecifikationer.}

Systemet er opbygget af forskellige blokke, der designes, implementeres og testes separat. Afslutningsvis sammenkobles hver blok, som til sidst testes som det samlede system. De enkelte blokke af systemt designes med henblik på at sikre systemets funktionalitet, hvorfor de designes ud fra de opstillede krav i \secref{Sec:krav}. Systemet vil dermed overordnet have en opbygning, som illustreres på \figref{fig:design_blokdiagram}.
\begin{figure}[H]
	\centering
	\includegraphics[scale=0.45]{figures/bProblemloesning/blokdiagram.png}
	\caption{På figuren ses blokdiagrammet for det samlede system, hvor et input modtages fra brugeren gennem sensorer, hvilket behandles i en GAP peripheral. Herefter sendes data ved brug af BLE til en computer gennem en GAP central, hvor det visualiseres i en GUI.}
	\label{fig:design_blokdiagram}
\end{figure}\vspace{-0.25cm}
Blokkene implementeres forskellige steder i det samlede system, som vist på \figref{fig:design_blokdiagram}. Spændingsforsyningen tilkobles GAP peripheral, hvor sensorer også tilkobles. På denne MCU vil signalerne blive digitaliseret, og algoritmer vil efterfølgende behandle og adskille aktiviteterne gang, løb og cykling samt udregne en tilhørende puls. Algoritmen og krav hertil står i \secref{krav_algoritme} som én samlet enhed, men i det efterfølgende vil der være to algoritmeafsnit til behandling af data fra henholdsvis accelerometer og gyroskop. Disse data sendes via BLE til en GAP central, som er tilkoblet en computer. På computeren visualiseres dataet i en GUI, hvor brugeren kan følge sin progression.