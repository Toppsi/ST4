\textit{Dette kapitel omhandler alle systemets blokke og herigennem deres design, implementering og test. Hver enkelt blok vil først blive behandlet for sig selv, hvorefter de vil blive behandlet som et samlet system. Alle blokke er designet ud fra deres kravspecifikationer, og testes ligeledes heraf. Afslutningsvis vil kapitlet omhandle en test af det samlede system med henblik på dets funktionelle krav og kravspecifikationer.}

Systemet er opbygget af forskellige blokke, der designes, implementeres og testes separat. Afslutningsvis koples hver blok sammen, som til sidst testes som det samplede system. De enkelte blokke af systemt designes med henblik på at sikre systemets funktionalitet, hvorfor de designes med henhold til de opstillede krav i \secref{Sec:krav}. Systemet vil dermed overordnet have en opbygning, som illustreres på \figref{fig:design_blokdiagram}.
\begin{figure}[H]
	\centering
	\includegraphics[scale=0.45]{figures/bProblemloesning/blokdiagram.png}
	\caption{På figuren ses blokdiagram for det samlede system, hvor et input modtages fra brugeren gennem sensorer, hvilket behandles i en GAP peripheral MCU. Herefter sendes dataet via BLE til en computer gennem en GAP central MCU, hvor det visualiseres på en brugerflade.}
	\label{fig:design_blokdiagram}
\end{figure}
Blokkene implementeres forskellige steder i det samlede system, som vist på \figref{fig:design_blokdiagram}. Spændingsforsyningen tilkobles GAP peripheral MCUen, hvor sensorer også tilkobles. På denne MCU vil signalerne blive digitaliseret og algoritmer vil efterfølgende behandle og adskille aktiviteterne gang, løb og cykling samt udregne en tilhørende puls. Algoritmen og krav hertil står i \secref{krav_algoritme} som én samlet enhed, men i det efterfølgende vil der være to algoritme afsnit: en til behandling af data fra henholdsvis accelerometer og gyroskop. Disse data sendes via BLE til en GAP central, som er koblet til en computer. På computeren vil dataet blive visualiseret igennem en MATLAB GUI, hvor brugeren kan følge sin progression.